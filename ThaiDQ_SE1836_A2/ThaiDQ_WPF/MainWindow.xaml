<Window x:Class="ThaiDQ_WPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ThaiDQ_WPF"
        mc:Ignorable="d"
        Title="MainWindow" Height="450" Width="800">
    <!-- 🔧 Sửa toàn bộ bố cục từ DockPanel thành Grid có 2 cột -->
    <Grid>
        <!-- 🔧 Thêm định nghĩa cột: 1 cột cho sidebar, 1 cột cho nội dung -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="230"/>
            <!-- Sidebar -->
            <ColumnDefinition Width="*"/>
            <!-- Main content -->
        </Grid.ColumnDefinitions>

        <!-- 🔧 Sidebar (bên trái) -->
        <StackPanel Grid.Column="0" Background="#1E293B" Margin="0">
            <TextBlock Text="🏨 Mini Hotel" 
                       FontSize="20" FontWeight="Bold" 
                       Foreground="White" Margin="20,20,0,30"/>

            <!-- 🔧 Thêm màu chữ & nền trong suốt để thấy nút rõ -->
            <Button x:Name="btnRoom" Content="Room Management" 
                    Foreground="White" Background="Transparent" BorderBrush="Transparent"
                    Click="btnRoom_Click" Margin="0,5,0,5"/>
            <Button x:Name="btnCustomer" Content="Customer Management" 
                    Foreground="White" Background="Transparent" BorderBrush="Transparent"
                    Click="btnCustomer_Click" Margin="0,5,0,5"/>
            <Button x:Name="btnBooking" Content="Booking Reservation" 
                    Foreground="White" Background="Transparent" BorderBrush="Transparent"
                    Click="btnBooking_Click" Margin="0,5,0,5"/>
            <Button x:Name="btnReport" Content="Report Statistic" 
                    Foreground="White" Background="Transparent" BorderBrush="Transparent"
                    Click="btnReport_Click" Margin="0,5,0,5"/>

            <Button x:Name="btnProfile" Content="My Profile" 
                    Foreground="White" Background="Transparent" BorderBrush="Transparent"
                    Click="btnProfile_Click" Margin="0,5,0,5"/>
            <Button x:Name="btnHistory" Content="Booking History" 
                    Foreground="White" Background="Transparent" BorderBrush="Transparent"
                    Click="btnHistory_Click" Margin="0,5,0,5"/>

            <Button Content="Logout" 
                    Foreground="White" Background="#DC2626" BorderBrush="Transparent"
                    Click="btnLogout_Click" Margin="0,40,0,0"/>
        </StackPanel>

        <!-- 🔧 Main Content (bên phải) -->
        <Grid Grid.Column="1">
            <!-- Room -->
            <Grid x:Name="panelRoom" Visibility="Collapsed" Background="#F1F5F9">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Form CRUD -->
                <Border Grid.Row="0" Background="White" Margin="30,30,30,10" Padding="20" CornerRadius="8">
                    <Border.Effect>
                        <DropShadowEffect Color="#E2E8F0" BlurRadius="10" ShadowDepth="2" Opacity="0.3"/>
                    </Border.Effect>

                    <StackPanel>
                        <TextBlock Text="🏠 Room Management" FontSize="22" FontWeight="Bold" Margin="0,0,0,20"/>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="20"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="20"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="10"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="10"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <!-- Row 1 -->
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Room Number:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                            <TextBox x:Name="txtRoomNumber" Grid.Row="0" Grid.Column="1" Height="30" Padding="5"/>

                            <TextBlock Grid.Row="0" Grid.Column="3" Text="Room Type:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                            <ComboBox x:Name="cbRoomType" Grid.Row="0" Grid.Column="4" Height="30" 
                                      DisplayMemberPath="RoomTypeName" SelectedValuePath="RoomTypeId"/>

                            <TextBlock Grid.Row="0" Grid.Column="6" Text="Max Capacity:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                            <TextBox x:Name="txtRoomCapacity" Grid.Row="0" Grid.Column="7" Height="30" Padding="5"/>

                            <!-- Row 2 -->
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Price/Day:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                            <TextBox x:Name="txtRoomPrice" Grid.Row="2" Grid.Column="1" Height="30" Padding="5"/>

                            <TextBlock Grid.Row="2" Grid.Column="3" Text="Status:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                            <ComboBox x:Name="cbRoomStatus" Grid.Row="2" Grid.Column="4" Height="30">
                                <ComboBoxItem Content="Active" Tag="1"/>
                                <ComboBoxItem Content="Inactive" Tag="0"/>
                            </ComboBox>

                            <TextBlock Grid.Row="2" Grid.Column="6" Text="Description:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                            <TextBox x:Name="txtRoomDescription" Grid.Row="2" Grid.Column="7" Height="30" Padding="5"/>

                            <!-- Buttons -->
                            <StackPanel Grid.Row="4" Grid.Column="0" Grid.ColumnSpan="8" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                                <Button x:Name="btnAddRoom" Content="Add New" Width="100" Height="35" Margin="0,0,10,0"
                                        Background="#10B981" Foreground="White" Click="btnAddRoom_Click" Cursor="Hand"/>
                                <Button x:Name="btnUpdateRoom" Content="Update" Width="100" Height="35" Margin="0,0,10,0"
                                        Background="#3B82F6" Foreground="White" Click="btnUpdateRoom_Click" Cursor="Hand"/>
                                <Button x:Name="btnDeleteRoom" Content="Delete" Width="100" Height="35" Margin="0,0,10,0"
                                        Background="#EF4444" Foreground="White" Click="btnDeleteRoom_Click" Cursor="Hand"/>
                                <Button x:Name="btnClearRoom" Content="Clear" Width="100" Height="35"
                                        Background="#6B7280" Foreground="White" Click="btnClearRoom_Click" Cursor="Hand"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- DataGrid -->
                <DataGrid x:Name="dgRoom" Grid.Row="1" AutoGenerateColumns="False" Margin="30,0,30,30"
                          CanUserAddRows="False" SelectionMode="Single" SelectionChanged="dgRoom_SelectionChanged">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="ID" Binding="{Binding RoomId}" Width="50"/>
                        <DataGridTextColumn Header="Room Number" Binding="{Binding RoomNumber}" Width="120"/>
                        <DataGridTextColumn Header="Room Type" Binding="{Binding RoomType.RoomTypeName}" Width="150"/>
                        <DataGridTextColumn Header="Capacity" Binding="{Binding RoomMaxCapacity}" Width="80"/>
                        <DataGridTextColumn Header="Price/Day" Binding="{Binding RoomPricePerDay}" Width="100"/>
                        <DataGridTextColumn Header="Status" Binding="{Binding RoomStatus}" Width="80"/>
                        <DataGridTextColumn Header="Description" Binding="{Binding RoomDetailDescription}" Width="*"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>

            <!-- Customer -->
            <Grid x:Name="panelCustomer" Visibility="Collapsed" Background="#F1F5F9">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Form CRUD -->
                <Border Grid.Row="0" Background="White" Margin="30,30,30,10" Padding="20" CornerRadius="8">
                    <Border.Effect>
                        <DropShadowEffect Color="#E2E8F0" BlurRadius="10" ShadowDepth="2" Opacity="0.3"/>
                    </Border.Effect>
                    
                    <StackPanel>
                        <TextBlock Text="👥 Customer Management" FontSize="22" FontWeight="Bold" Margin="0,0,0,20"/>
                        
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="20"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="20"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="10"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="10"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <!-- Row 1 -->
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Full Name:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                            <TextBox x:Name="txtCusName" Grid.Row="0" Grid.Column="1" Height="30" Padding="5"/>

                            <TextBlock Grid.Row="0" Grid.Column="3" Text="Email:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                            <TextBox x:Name="txtCusEmail" Grid.Row="0" Grid.Column="4" Height="30" Padding="5"/>

                            <TextBlock Grid.Row="0" Grid.Column="6" Text="Password:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                            <TextBox x:Name="txtCusPassword" Grid.Row="0" Grid.Column="7" Height="30" Padding="5"/>

                            <!-- Row 2 -->
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Telephone:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                            <TextBox x:Name="txtCusPhone" Grid.Row="2" Grid.Column="1" Height="30" Padding="5"/>

                            <TextBlock Grid.Row="2" Grid.Column="3" Text="Birthday:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                            <DatePicker x:Name="dpCusBirthday" Grid.Row="2" Grid.Column="4" Height="30"/>

                            <TextBlock Grid.Row="2" Grid.Column="6" Text="Status:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                            <ComboBox x:Name="cbCusStatus" Grid.Row="2" Grid.Column="7" Height="30">
                                <ComboBoxItem Content="Active" Tag="1"/>
                                <ComboBoxItem Content="Inactive" Tag="0"/>
                            </ComboBox>

                            <!-- Buttons -->
                            <StackPanel Grid.Row="4" Grid.Column="0" Grid.ColumnSpan="8" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                                <Button x:Name="btnAddCustomer" Content="Add New" Width="100" Height="35" Margin="0,0,10,0"
                                        Background="#10B981" Foreground="White" Click="btnAddCustomer_Click" Cursor="Hand"/>
                                <Button x:Name="btnUpdateCustomer" Content="Update" Width="100" Height="35" Margin="0,0,10,0"
                                        Background="#3B82F6" Foreground="White" Click="btnUpdateCustomer_Click" Cursor="Hand"/>
                                <Button x:Name="btnDeleteCustomer" Content="Delete" Width="100" Height="35" Margin="0,0,10,0"
                                        Background="#EF4444" Foreground="White" Click="btnDeleteCustomer_Click" Cursor="Hand"/>
                                <Button x:Name="btnClearCustomer" Content="Clear" Width="100" Height="35"
                                        Background="#6B7280" Foreground="White" Click="btnClearCustomer_Click" Cursor="Hand"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- DataGrid -->
                <DataGrid x:Name="dgCustomer" Grid.Row="1" AutoGenerateColumns="False" Margin="30,0,30,30" 
                          CanUserAddRows="False" SelectionMode="Single" SelectionChanged="dgCustomer_SelectionChanged">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="ID" Binding="{Binding CustomerId}" Width="50"/>
                        <DataGridTextColumn Header="Full Name" Binding="{Binding CustomerFullName}" Width="*"/>
                        <DataGridTextColumn Header="Telephone" Binding="{Binding Telephone}" Width="250"/>
                        <DataGridTextColumn Header="Email" Binding="{Binding EmailAddress}" Width="400"/>
                        <DataGridTextColumn Header="Birthday" Binding="{Binding CustomerBirthday}" Width="200"/>
                        <DataGridTextColumn Header="Status" Binding="{Binding CustomerStatus}" Width="60"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>

            <!-- Booking -->
            <Grid x:Name="panelBooking" Visibility="Collapsed" Background="#F1F5F9">
                <StackPanel>
                    <TextBlock Text="📝 Booking Reservation" FontSize="26" FontWeight="Bold" Margin="30"/>
                    <DataGrid x:Name="dgBookReservation" AutoGenerateColumns="False" Height="300" Margin="10">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="BookingReservationId" Binding="{Binding BookingReservationId}"/>
                            <DataGridTextColumn Header="BookingDate" Binding="{Binding BookingDate}"/>
                            <DataGridTextColumn Header="TotalPrice" Binding="{Binding TotalPrice}"/>
                            <DataGridTextColumn Header="CustomerFullName" Binding="{Binding Customer.CustomerFullName}"/>
                            <DataGridTextColumn Header="BookingStatus" Binding="{Binding BookingStatus}"/>
                            <DataGridTextColumn Header="RoomCount" Binding="{Binding BookingDetails.Count}"/>
                            <DataGridTextColumn Header="FirstRoomNumber" Binding="{Binding BookingDetails[0].Room.RoomNumber}"/>
                            <DataGridTextColumn Header="FirstRoomType" Binding="{Binding BookingDetails[0].Room.RoomType.RoomTypeName}"/>
                            <DataGridTextColumn Header="StartDate" Binding="{Binding BookingDetails[0].StartDate}"/>
                            <DataGridTextColumn Header="EndDate" Binding="{Binding BookingDetails[0].EndDate}"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </StackPanel>

            </Grid>

            <!-- Report -->
            <Grid x:Name="panelReport" Visibility="Collapsed" Background="#F1F5F9">
                <StackPanel>
                    <TextBlock Text="📊 Report Statistic" FontSize="26" FontWeight="Bold" Margin="30"/>

                    <!-- Thanh filter Start–End -->
                    <StackPanel Orientation="Horizontal" Margin="30,0,30,10">
                        <TextBlock Text="From:" VerticalAlignment="Center" Margin="0,0,5,0"/>
                        <DatePicker x:Name="dpStart" Width="130" Margin="0,0,20,0"/>
                        <TextBlock Text="To:" VerticalAlignment="Center" Margin="0,0,5,0"/>
                        <DatePicker x:Name="dpEnd" Width="130" Margin="0,0,20,0"/>
                        <Button x:Name="btnStReport" Content="Generate" Width="100" Click="btnStReport_Click"/>
                    </StackPanel>

                    <DataGrid x:Name="dgReport" AutoGenerateColumns="False" Height="300" Margin="10">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="BookingReservationId" Binding="{Binding BookingReservationId}"/>
                            <DataGridTextColumn Header="BookingDate" Binding="{Binding BookingDate}"/>
                            <DataGridTextColumn Header="TotalPrice" Binding="{Binding TotalPrice}"/>
                            <DataGridTextColumn Header="CustomerId" Binding="{Binding CustomerId}"/>
                            <DataGridTextColumn Header="BookingStatus" Binding="{Binding BookingStatus}"/>
                            <DataGridTextColumn Header="StartDate" Binding="{Binding StartDate}"/>
                            <DataGridTextColumn Header="EndDate" Binding="{Binding EndDate}"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </StackPanel>
            </Grid>

            <!-- Profile -->
            <Grid x:Name="panelProfile" Visibility="Collapsed" Background="#F1F5F9">
                <StackPanel Margin="30">
                    <TextBlock Text="🙍 My Profile" FontSize="26" FontWeight="Bold" Margin="0,0,0,30"/>
                    
                    <!-- Form Profile -->
                    <Grid MaxWidth="500" HorizontalAlignment="Left">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Customer ID (readonly) -->
                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Customer ID:" VerticalAlignment="Center" Margin="0,0,0,15"/>
                        <TextBox x:Name="txtProfileId" Grid.Row="0" Grid.Column="1" IsReadOnly="True" Background="#E2E8F0" Margin="0,0,0,15" Height="30" Padding="5"/>

                        <!-- Full Name -->
                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Full Name:" VerticalAlignment="Center" Margin="0,0,0,15"/>
                        <TextBox x:Name="txtProfileName" Grid.Row="1" Grid.Column="1" Margin="0,0,0,15" Height="30" Padding="5"/>

                        <!-- Email (readonly) -->
                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Email:" VerticalAlignment="Center" Margin="0,0,0,15"/>
                        <TextBox x:Name="txtProfileEmail" Grid.Row="2" Grid.Column="1" IsReadOnly="True" Background="#E2E8F0" Margin="0,0,0,15" Height="30" Padding="5"/>

                        <!-- Telephone -->
                        <TextBlock Grid.Row="3" Grid.Column="0" Text="Telephone:" VerticalAlignment="Center" Margin="0,0,0,15"/>
                        <TextBox x:Name="txtProfilePhone" Grid.Row="3" Grid.Column="1" Margin="0,0,0,15" Height="30" Padding="5"/>

                        <!-- Birthday -->
                        <TextBlock Grid.Row="4" Grid.Column="0" Text="Birthday:" VerticalAlignment="Center" Margin="0,0,0,15"/>
                        <DatePicker x:Name="dpProfileBirthday" Grid.Row="4" Grid.Column="1" Margin="0,0,0,15" Height="30"/>

                        <!-- Status (readonly) -->
                        <TextBlock Grid.Row="5" Grid.Column="0" Text="Status:" VerticalAlignment="Center" Margin="0,0,0,15"/>
                        <TextBox x:Name="txtProfileStatus" Grid.Row="5" Grid.Column="1" IsReadOnly="True" Background="#E2E8F0" Margin="0,0,0,15" Height="30" Padding="5"/>

                        <!-- Save Button -->
                        <Button x:Name="btnSaveProfile" Grid.Row="6" Grid.Column="1" Content="Save Changes" 
                                Width="150" HorizontalAlignment="Left" Height="35"
                                Background="#1E293B" Foreground="White" 
                                Click="btnSaveProfile_Click" Cursor="Hand"/>
                    </Grid>
                </StackPanel>
            </Grid>

            <!-- History -->
            <Grid x:Name="panelHistory" Visibility="Collapsed" Background="#F1F5F9">
                <TextBlock Text="📜 Booking Detail" FontSize="26" FontWeight="Bold" Margin="30"/>
                <DataGrid x:Name="dgBookReserabcvation" AutoGenerateColumns="False" Height="300" Margin="10">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="BookingReservationId" Binding="{Binding BookingReservationId}"/>
                        <DataGridTextColumn Header="BookingDate" Binding="{Binding BookingDate}"/>
                        <DataGridTextColumn Header="TotalPrice" Binding="{Binding TotalPrice}"/>
                        <DataGridTextColumn Header="CustomerId" Binding="{Binding CustomerId}"/>
                        <DataGridTextColumn Header="BookingStatus" Binding="{Binding BookingStatus}"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>

            <!-- Dashboard (Default) -->
            <Grid x:Name="panelDashboard" Background="#F8FAFC">
                <TextBlock Text="🏨 Welcome to Mini Hotel System" 
                           FontSize="28" FontWeight="Bold" Margin="40"/>
            </Grid>
        </Grid>
    </Grid>
</Window>
